# aps_divide_and_trade

## задаче о рюкзаке
*Задача о рюкзаке* (или задача о рюкзаке с ограничениями на вес) - это классическая задача комбинаторной оптимизации, которая имеет множество практических применений в различных областях, включая логистику, производство, финансы и другие. В данной задаче требуется выбрать из набора предметов определенный набор так, чтобы их общий вес был максимальным, но не превышал заданного ограничения вместимости (веса) рюкзака, а при этом их суммарная стоимость была максимальной.


### Постановка задачи
Дано:
 - Массив весов предметов  w = [w1, w2, ..., wn] , где  wi - вес i-го предмета.
 - Массив стоимостей предметов v = [v1, v2, ..., vn] , где  vi  - стоимость i-го предмета.
 Вместимость рюкзака С.
Цель состоит в том, чтобы найти такой подмассив индексов S, что:
- ∑i∈S(wi) <=C(сумма весов выбранных предметов не превышает вместимость рюкзака)
- ∑i∈S(vi) <=C(максимизация суммарной стоимости выбранных предметов)

**Решение задачи**
Существует несколько подходов к решению задачи о рюкзаке, включая жадные алгоритмы, динамическое программирование и метаэвристические методы. Для данного  решения  выбран метод Divide and Trade.


### Divide and Trade (Разделяй и властвуй)

Метод "Разделяй и властвуй" (Divide and Conquer) - это подход к решению задач, который основан на разбиении исходной задачи на более мелкие подзадачи, решение которых проще и может быть выполнено независимо друг от друга. Затем решения подзадач объединяются для получения окончательного решения исходной задачи.
Основные шаги метода "Разделяй и властвуй":
- Разделение (Divide): Исходная задача разбивается на несколько более мелких подзадач. Обычно это делается рекурсивно, путем деления задачи на две или более подзадачи.
- Покорение (Conquer): Каждая подзадача решается рекурсивно. Если размер подзадачи достаточно маленький, чтобы быть решенным непосредственно (базовый случай), то выполняется соответствующий алгоритм.
- Объединение (Combine): Решения подзадач объединяются, чтобы получить решение исходной задачи.

### Решение

Создадим два файла div and trade.c и  div_and_trade.h

![Alt text](/img/image-1.png){width=200px}

**div_and_trade.h**

Начнем с заголовочного файла, определим структуру данных и прототипы функций
![Alt text](/img/image.png){width=200px}


Определение структуры Item, которая представляет каждый предмет в задаче о рюкзаке. У каждого предмета есть свой вес (weight) и ценность (value).


Так же зададим константы для максимального количества предметов и веса, чтобы не допустить переполнения массивов.

![Alt text](/img/image-2.png)


Объявим функции для поиска максимума и алгоритма divide And Trade.
Полный заголовочный файл будет выглядеть следующим образом

![Alt text](/img/image-3.png)

**div and trade.c**

включим заголовочный файл

![Alt text](/img/image-4.png)

Реализуем функцию поиска максимума, которая принимает 2 числа и возвращает максимальное из них 

![Alt text](/img/image-5.png)

Реализуем функцию divideAndTrade

![Alt text](/img/image-6.png)

Это рекурсивная функция divideAndTrade, которая решает задачу о рюкзаке. Она принимает массив предметов items, количество предметов n и вместимость рюкзака capacity.
 В начале она проверяет базовые случаи: если рюкзак пуст (n == 0) или его вместимость равна нулю (capacity == 0), то функция возвращает ноль.

Затем функция проверяет, вмещается ли текущий предмет в рюкзак. Если его вес (items[n - 1].weight) больше вместимости (capacity), то предмет исключается из рассмотрения и вызывается функция divideAndTrade для оставшихся предметов (до n - 1).
В противном случае, функция считает максимальную ценность, которая может быть достигнута с использованием текущего предмета или без него, и возвращает большее значение из двух.

Напишем функцию main для запуска считывания и вывода данных

![Alt text](/img/image-7.png)


**Запуск и вывод результатов**
запустим наш код и введем количество товаров,  вместимость  рюкзака, вес и ценность для каждого товара

![Alt text](/img/image-8.png)
 
**Результат**
![Alt text](/img/image-9.png)

